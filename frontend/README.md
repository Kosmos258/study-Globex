# Frontend-шаблон
Реакт пресет для разработки шаблонов веб-страниц под WebSoft HCM
(с) Globex IT

(Для работы требуется  Node.js v18.18.0+)

Пресет является рекомендуемой и применяемой структурой Реакта для всех проектов и не является готовым приложением. Содержимое файлов представлено лишь для примера.

## Подключенные модули
- React
- TypeScript
- Redux ToolKit
- RTK Query
- ESLint
- AntD
- SCSS


### Scripts
```
yarn dev
```
```
yarn build
```
```
yarn lint
```
```
yarn deploy
```

## Структура

- `src/`: исходники
	- `api/`: api приложения
    	- `services/`: api сервисы
  	- `app/`: приложение
    	- `router/`: роутер приложения 
    	- `config/`: конфиг приложения
        	- `globalSettings.ts`: глобальные настройки приложения
        	- `mockData.ts`: тестовые данные
        	- `templateVars.ts`: переменный фронт шаблона
      	- `styles/`: общие стили
        	- `default.scss`: дефолт сброс
        	- `App.scss`: стили для App
        	- `rewrite-wt.scss`: перезапись конфликтующих общих стилей коробки
  	- `layouts/`: слои верхнего уровня
	- `pages/ or views/`: страницы или представления приложения
    	- `{PageName}/`: страница или представление приложения. Внутри допускается вложенная структура папок-компонентов используемых на данной странице. Если приложение одностраничное и не содержит pages/views, все компоненты должны быть в src/components/
    	- `models/`: модели данных
  	- `shared/`: shared файлы
    	- `assets/`: статичные файлы
        	- `images/`: изображения
    	- `components/`: переиспользуемые компоненты
        	- `./`: корень. Переиспользуемые компоненты Ordinary или Smart, могут быть со своей логикой.
        	- `UI/`: Simple компоненты UI (кнопки, инпуты, пикеры, скроллы и тп)
      	- `helpers/`: помощники и т.п.
      	- `hooks/`: кастомные хуки (дебаунс, каунтер и более сложные)
		- `models/`: модели, которые приходят с бэкенда (интерфейсы сущностей,  ответов сервера, ошибок сервера и тп)
    	- `types/`: типы и интерфейсы необходимые для фронта. Можно разбивать по папкам
    	- `utils/`: утилиты и т.п.
  	- `store/`: redux/mobx/context. В упрощенном варианте можно опустить папки внутри
    	- `features/`: selectors и slices
    	- `services/`: RTK Query API/ mobx fromPromise или другие middleware/api -- размещаются в api/ директории
    	- `store.ts`: конфигурация store
  	

## Конфигурация

Перед подключением шаблона к странице необходимо поменять путь в vite.config.ts.

Также рекомендуется заменить все места с root на root_<номер_задачи>, чтобы избежать конфликта с другими кастомными веб-шаблонами

## Деплой
- Переместить папку deployer в корень frontend
- Создать в системе шаблон-хук, скопировать в него код из deployer/globexit_frontend_hook.js
- Определить переменные для деплоера:
    - DEPLOYER_LOGIN - Логин в системе
	- DEPLOYER_PASSWORD - Пароль в системе
	- DEPLOYER_HOST - хост
	- PARENT_DIRECTORY - родительская директория относительно wt/web/
- Прописать в package.json команду для деплоя: ``"deploy": "node deployer/deploy.js"`` и ``"build:delivery": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0 && tsc && vite build && node deployer/deploy.js"``
- Вызвать команду